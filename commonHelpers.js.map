{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const PIXABAY_URL = 'https://pixabay.com/api/';\nconst PIXABAY_KEY = '43177088-2530548a60ff9c950be2fcaec';\nconst CURRENT_PIXABAY_URL = `${PIXABAY_URL}?key=${PIXABAY_KEY}&image_type=photo&orientation=horizontal&safesearch=true`;\n\nexport const searchImagesApi = (imageName = '') => {\n  return fetch(`${CURRENT_PIXABAY_URL}&q=${imageName}`).then(response =>\n    response.json()\n  );\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nexport const renderGallery = imagesList => {\n  const galleryItemsMarkup = imagesList.reduce((acc, imageData) => {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = imageData;\n\n    acc += `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              loading=\"lazy\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n          </a>\n          <ul class=\"description-list\">\n            <li>Likes <span>${likes}</span></li>\n            <li>Views <span>${views}</span></li>\n            <li>Comments <span>${comments}</span></li>\n            <li>Downloads <span>${downloads}</span></li>\n          </ul>\n        </li>\n        `;\n\n    return acc;\n  }, '');\n  galleryContainer.insertAdjacentHTML('afterbegin', galleryItemsMarkup);\n\n  showImageOnClick();\n};\n\nexport const clearGallery = () => {\n  galleryContainer.innerHTML = '';\n};\n\nconst showImageOnClick = () => {\n  const simplelightboxOptions = {\n    captionsData: 'alt',\n    captionDelay: 250,\n  };\n\n  let gallery = new SimpleLightbox('.gallery a', simplelightboxOptions);\n  gallery.on('show.simplelightbox');\n  gallery.refresh();\n};\n\nexport const renderLoader = () => {\n  loader.classList.toggle();\n};\n\nexport const clearLoader = () => {};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { searchImagesApi } from './js/pixabay-api';\nimport { clearGallery, renderGallery } from './js/render-functions';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  clearGallery();\n\n  const imageName = new FormData(form).get('imageName').trim();\n\n  if (!imageName) {\n    return alert('fill the input');\n  }\n  searchImagesApi(imageName)\n    .then(data => {\n      const { hits, total } = data;\n      if (!hits.length || !total) {\n        // izitoast\n        return console.log(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n      renderGallery(hits);\n    })\n    //izitoast\n    .catch(error => console.error(error.toString()));\n  form.reset();\n}\n"],"names":["PIXABAY_URL","PIXABAY_KEY","CURRENT_PIXABAY_URL","searchImagesApi","imageName","response","galleryContainer","renderGallery","imagesList","galleryItemsMarkup","acc","imageData","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showImageOnClick","clearGallery","simplelightboxOptions","gallery","SimpleLightbox","form","onSubmitForm","event","data","hits","total","error"],"mappings":"svBAAA,MAAMA,EAAc,2BACdC,EAAc,qCACdC,EAAsB,GAAGF,CAAW,QAAQC,CAAW,2DAEhDE,EAAkB,CAACC,EAAY,KACnC,MAAM,GAAGF,CAAmB,MAAME,CAAS,EAAE,EAAE,KAAKC,GACzDA,EAAS,KAAM,CACnB,ECJMC,EAAmB,SAAS,cAAc,UAAU,EAC3C,SAAS,cAAc,SAAS,EAExC,MAAMC,EAAgBC,GAAc,CACzC,MAAMC,EAAqBD,EAAW,OAAO,CAACE,EAAKC,IAAc,CAC/D,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,OAAAD,GAAO;AAAA,0CAC+BG,CAAa;AAAA;AAAA;AAAA;AAAA,qBAIlCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,8BAIKC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA;AAAA,UAKhCR,CACR,EAAE,EAAE,EACLJ,EAAiB,mBAAmB,aAAcG,CAAkB,EAEpEU,GACF,EAEaC,EAAe,IAAM,CAChCd,EAAiB,UAAY,EAC/B,EAEMa,EAAmB,IAAM,CAC7B,MAAME,EAAwB,CAC5B,aAAc,MACd,aAAc,GAClB,EAEE,IAAIC,EAAU,IAAIC,EAAe,aAAcF,CAAqB,EACpEC,EAAQ,GAAG,qBAAqB,EAChCA,EAAQ,QAAO,CACjB,EChDME,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBN,IAEA,MAAMhB,EAAY,IAAI,SAASoB,CAAI,EAAE,IAAI,WAAW,EAAE,OAEtD,GAAI,CAACpB,EACH,OAAO,MAAM,gBAAgB,EAE/BD,EAAgBC,CAAS,EACtB,KAAKuB,GAAQ,CACZ,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAO,EAAGF,EACxB,GAAI,CAACC,EAAK,QAAU,CAACC,EAEnB,OAAO,QAAQ,IACb,0EACV,EAEMtB,EAAcqB,CAAI,CACxB,CAAK,EAEA,MAAME,GAAS,QAAQ,MAAMA,EAAM,SAAU,CAAA,CAAC,EACjDN,EAAK,MAAK,CACZ"}